import{s as N,e as B,E as I}from"./Cr5Ubhxi.js";import{a as T,E as z}from"./DSuzuHr1.js";import{E as P}from"./DLQfD3Uz.js";import{E as S}from"./B-UECF4z.js";import"./DP2rzg_V.js";/* empty css        *//* empty css        *//* empty css        */import{u as $}from"./CX-Jc4Wd.js";import{q as j}from"./Dl64kDm5.js";import{_ as M}from"./CuG9jR6V.js";import{l as U,b as f,m as O,M as s,N as r,O as a,a6 as l,a1 as p,u as t,Z as i,a0 as R,ag as k,a3 as n,_ as Z,ao as A}from"./BgewwvAi.js";import{_ as G}from"./DlAUqK2U.js";import"./HhgPgBuu.js";import"./liHltn2h.js";import"./lURfvm38.js";import"./Ca-AvAta.js";import"./DkD6xkHx.js";import"./BN2uy5AJ.js";import"./lylAQj0-.js";import"./DCTLXrZ8.js";import"./Dua6tcUZ.js";import"./WwjzPWiF.js";import"./B8eVAIGV.js";import"./CvX1p1Zl.js";import"./BxqZsOx6.js";import"./CthRtmCg.js";import"./BruNbhwZ.js";import"./BpShNd2i.js";import"./DgPWzUnZ.js";import"./DuE7aCnB.js";import"./C-cM_-N0.js";import"./CGGYEFhd.js";import"./CyY3lptK.js";import"./Ct9hkhkX.js";import"./BqfsOZFw.js";/* empty css        *//* empty css        *//* empty css        */import"./CSNrKBDo.js";import"./Cp1klw-J.js";import"./vqJmiX2Z.js";/* empty css        */import"./DIG9jm1d.js";import"./l0sNRNKZ.js";/* empty css        */const H=""+new URL("empty.C6MrDaor.png",import.meta.url).href,J={class:"h-full overflow-hidden p-main"},K={class:"grid lg:grid-cols-2 gap-4 grid-cols-1 h-full"},Q={class:"w-full flex justify-between"},W={class:"px-[10px] py-[5px] h-full overflow-hidden lg:borderLeft"},X={key:0,class:"flex flex-col items-center justify-center h-full"},Y={key:0,class:"text-2xl font-bold text-tx-regular pb-2"},tt={key:1},et={class:"text-sm text-tx-secondary text-end"},ot={key:0,class:"mr-2"},st={key:1,class:"mr-2"},rt={key:2},at={class:"text-sm text-tx-secondary mt-[5px] whitespace-pre-line"},lt={class:"text-sm text-tx-secondary whitespace-pre-line"},it=U({__name:"testData",props:{id:{type:Number,default:0},type:{type:String,default:""}},setup(v){const y=v,m=f([]),c=f({kb_id:y.id,question:""}),u=f(!1),d=f({search_mode:"similar",search_tokens:8e3,search_similar:0,ranking_status:0,ranking_score:0,ranking_model:"",optimize_ask:0,optimize_m_id:"",optimize_s_id:""}),g=O(()=>{switch(d.value.search_mode){case"full":return"全文检索";case"similar":return"语义检索";case"mix":return"混合检索";default:return""}}),b=_=>{d.value={...d.value,..._},u.value=!1},w=async()=>{const _={...c.value,...d.value};m.value=await j(_)},{lockFn:E,isLock:C}=$(w);return(_,o)=>{const V=B,x=z,h=I,q=T,D=P,F=S;return s(),r("div",J,[a("div",K,[a("div",null,[l(q,{"label-width":"90px"},{default:p(()=>[l(x,{label:"测试文本"},{default:p(()=>[l(V,{modelValue:t(c).question,"onUpdate:modelValue":o[0]||(o[0]=e=>t(c).question=e),type:"textarea",rows:"20"},null,8,["modelValue"])]),_:1}),l(x,null,{default:p(()=>[a("div",Q,[l(h,{loading:t(C),disabled:t(c).question===""||t(c).kb_id===0,type:"primary",onClick:t(E)},{default:p(()=>o[3]||(o[3]=[k(" 测试 ")])),_:1},8,["loading","disabled","onClick"]),l(h,{type:"default",icon:t(N),onClick:o[1]||(o[1]=e=>u.value=!0)},{default:p(()=>[k(n(t(g)),1)]),_:1},8,["icon"])])]),_:1})]),_:1})]),a("div",W,[t(m).length==0?(s(),r("div",X,[l(D,{src:t(H)},null,8,["src"]),o[4]||(o[4]=a("div",{class:"mt-[10px] text-[#5a646e]"}," 测试结果将在这里展示 ",-1))])):i("",!0),l(F,null,{default:p(()=>[t(m).length!=0?(s(),r("h5",Y," 检索结果 ("+n(t(m).length)+") 条 ",1)):i("",!0),t(m).length!=0?(s(),r("div",tt,[(s(!0),r(Z,null,A(t(m),(e,L)=>(s(),r("div",{key:L,class:"p-[10px] border border-solid border-br-light mb-[10px] rounded"},[a("p",et,[e.rerank_score?(s(),r("span",ot,"重排分数："+n(e.rerank_score),1)):i("",!0),e.full_score?(s(),r("span",st,"全文检索："+n(e.full_score),1)):i("",!0),e.emb_score?(s(),r("span",rt,"语义检索："+n(e.emb_score),1)):i("",!0)]),a("div",at,n(e.question),1),a("div",lt,n(e.answer),1)]))),128))])):i("",!0)]),_:1})])]),t(u)?(s(),R(M,{key:0,visible:!0,default:t(d),onCancel:o[2]||(o[2]=e=>u.value=!1),onConfirm:b},null,8,["default"])):i("",!0)])}}}),te=G(it,[["__scopeId","data-v-7c511900"]]);export{te as default};
