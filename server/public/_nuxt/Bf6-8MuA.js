import{E as V}from"./Cr5Ubhxi.js";import{a as F}from"./DSuzuHr1.js";import{E as j}from"./B-UECF4z.js";import{E as C,a as O}from"./iNk1KTD1.js";import{E as U}from"./BNDteuJm.js";/* empty css        *//* empty css        */import{u as A,T as E}from"./BWUG1k14.js";import{_ as B}from"./DlmTac6C.js";import N from"./DbyauRTq.js";import{e as w}from"./ClOxl2Zy.js";import{c as u}from"./BWU-kwnx.js";import{l as I,r as x,m as P,c as k,M as y,N as T,O as p,a6 as r,a1 as a,u as e,ag as X}from"./BgewwvAi.js";import{_ as D}from"./DlAUqK2U.js";import"./HhgPgBuu.js";import"./liHltn2h.js";import"./lURfvm38.js";import"./B8eVAIGV.js";import"./C-GHJ6af.js";import"./BtWRx-QN.js";import"./CiYvFM4x.js";import"./CdGbKsdt.js";import"./nWgkobCK.js";import"./Dua6tcUZ.js";import"./lylAQj0-.js";import"./DCTLXrZ8.js";import"./WwjzPWiF.js";import"./CvX1p1Zl.js";import"./DkD6xkHx.js";import"./BxqZsOx6.js";import"./CthRtmCg.js";import"./BpShNd2i.js";import"./DgPWzUnZ.js";import"./kUyOVab5.js";import"./BN2uy5AJ.js";/* empty css        *//* empty css        *//* empty css        */import"./DP2rzg_V.js";import"./BMbyqd4v.js";import"./BSY0TDzP.js";import"./CyY3lptK.js";import"./DLQfD3Uz.js";import"./Ca-AvAta.js";/* empty css        *//* empty css        */import"./DIG9jm1d.js";const H={class:"avatar-select h-full flex flex-col"},K={class:"px-main pt-main"},L={key:0,class:"mt-[5px] flex-1 min-h-0"},M={class:"h-full"},W={class:"p-main"},$={class:"h-full"},q={class:"p-main"},G={key:1,class:"p-main"},J=I({__name:"text",setup(Q){const n=A(),_=x({currentTab:"setting"}),b={fontSize:64,fontFamily:"Alibaba PuHuiTi",fill:"#ffffff",stroke:"",effect:{name:"",server_key:"",type:"",url:""}},o=x(u(b)),v=P(()=>{var s;return((s=n.activeObject)==null?void 0:s.customType)===E.TEXT}),z=()=>{_.currentTab="setting";const s=u(b);n.addText("这里是文字",E.TEXT,s)};k(()=>n.activeObject,s=>{var t;if(v.value)for(const l in o)o[l]=(t=s==null?void 0:s.data)==null?void 0:t[l];else Object.assign(o,u(b))},{immediate:!0});const S=["fontSize","fontFamily","fill","stroke"];return k(()=>o,s=>{var l,d,f;if(!v.value)return;for(const m in o)if(S.includes(m)){let c=s[m];m==="fontSize"&&(c=n.calcFontSize(c)),(l=n.activeObject)==null||l.set(m,c)}const t=u(o);(d=n.activeObject)==null||d.set("data",t),(f=n.canvas)==null||f.renderAll()},{deep:!0}),(s,t)=>{const l=V,d=F,f=j,m=O,c=C,g=U;return y(),T("div",H,[p("div",K,[r(l,{type:"primary",class:"w-full",size:"large",onClick:z},{default:a(()=>t[6]||(t[6]=[X(" 添加文字 ")])),_:1})]),e(v)?(y(),T("div",L,[r(c,{modelValue:e(_).currentTab,"onUpdate:modelValue":t[5]||(t[5]=i=>e(_).currentTab=i),stretch:""},{default:a(()=>[r(m,{name:"setting"},{label:a(()=>t[7]||(t[7]=[p("span",{class:"el-tab__label-text"},"文字设置",-1)])),default:a(()=>[p("div",M,[r(f,null,{default:a(()=>[p("div",W,[r(d,null,{default:a(()=>[r(B,{font:e(o).fontFamily,"onUpdate:font":t[0]||(t[0]=i=>e(o).fontFamily=i),"font-size":e(o).fontSize,"onUpdate:fontSize":t[1]||(t[1]=i=>e(o).fontSize=i),"font-color":e(o).fill,"onUpdate:fontColor":t[2]||(t[2]=i=>e(o).fill=i),"stroke-color":e(o).stroke,"onUpdate:strokeColor":t[3]||(t[3]=i=>e(o).stroke=i)},null,8,["font","font-size","font-color","stroke-color"])]),_:1})])]),_:1})])]),_:1}),r(m,{name:"special"},{label:a(()=>t[8]||(t[8]=[p("span",{class:"el-tab__label-text"},"文字特效",-1)])),default:a(()=>[p("div",$,[r(f,null,{default:a(()=>[p("div",q,[r(N,{modelValue:e(o).effect,"onUpdate:modelValue":t[4]||(t[4]=i=>e(o).effect=i)},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue"])])):(y(),T("div",G,[r(g,{image:e(w),description:"请添加文字，或在右侧选中文字～"},null,8,["image"])]))])}}}),Mt=D(J,[["__scopeId","data-v-002da2fb"]]);export{Mt as default};
