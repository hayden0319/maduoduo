import{E as k}from"./DLQfD3Uz.js";import{_ as w}from"./CyY3lptK.js";import{E}from"./BtaPwG8Q.js";import{cB as V,d as z,bI as I}from"./Cr5Ubhxi.js";/* empty css        */import"./DJju3RTy.js";import{l as B,b as G,m as M,M as m,N as n,a6 as r,a1 as N,u as o,y as P,O as s,a2 as C,ag as U,a3 as $}from"./BgewwvAi.js";import{_ as J}from"./xixvWuCN.js";import{c as j,d as a}from"./CuNTPGI1.js";import{_ as q}from"./8mO6J6Po.js";import{_ as L}from"./DlAUqK2U.js";import"./Ca-AvAta.js";import"./DkD6xkHx.js";import"./BN2uy5AJ.js";import"./BWU-kwnx.js";import"./liHltn2h.js";import"./lURfvm38.js";import"./CvX1p1Zl.js";import"./DqVQeDvA.js";import"./BXn_zzPN.js";import"./tONJIxwY.js";import"./ISI1Ebca.js";import"./lylAQj0-.js";import"./DCTLXrZ8.js";import"./DCjJCxIH.js";/* empty css        *//* empty css        */const D={key:0,class:"flex justify-center items-center h-[150px] relative"},F={key:1,class:"uploader-container"},R={class:"el-upload__tip text-[#798696]"},S=B({__name:"uploader",props:{modelValue:{default:""},type:{},files:{}},emits:["update:modelValue"],setup(f,{emit:d}){const u=d,p=f,{modelValue:i}=V(p,u),l=G([]),_=e=>j()?!1:parseInt(a.value.file_size)>0&&e.size>parseInt(a.value.file_size)*1024*1024?(z.error(`文件大小不能超过${a.value.file_size}MB`),!1):!0,v=e=>{u("update:modelValue",e.uri),i.value=e.uri,l.value=[{name:e.name,url:e.uri}]},g=e=>I(p.type,{file:e.file,name:"file",header:{},data:{type:"draw"}}),x=M(()=>{switch(p.type){case"image":return".jpg,.png,.jpeg";case"video":return".wmv,.avi,.mpg,.mpeg,.3gp,.mov,.mp4,.flv,.rmvb,.mkv";case"audio":return;default:return"*"}});return(e,t)=>{const h=k,y=w,b=E;return m(),n("div",null,[r(q,{title:"上传参考图",required:"",tips:"上传一张图片做为基底，用模型在其上面重新生成新的图片"}),r(b,{"file-list":o(l),"onUpdate:fileList":t[1]||(t[1]=c=>P(l)?l.value=c:null),class:"uploader",drag:"",multiple:!1,"show-file-list":!1,"on-success":v,"http-request":g,"before-upload":_,accept:o(x)},{default:N(()=>[s("div",null,[o(i)?(m(),n("div",D,[r(h,{class:"!block h-[100%]",src:o(i),fit:"contain"},null,8,["src"]),r(y,{class:"!absolute right-0 top-0 z-10 drop-shadow",name:"el-icon-CircleCloseFilled",color:"#ffffff",onClick:t[0]||(t[0]=C(c=>i.value="",["stop"]))})])):(m(),n("div",F,[t[2]||(t[2]=s("img",{src:J,alt:"文件上传",class:"w-8 mx-auto mb-2"},null,-1)),t[3]||(t[3]=s("div",{class:"el-upload__text text-[#798696] !text-[13px]"},[U(" 拖拽文件到此处或者"),s("em",null,"点击上传")],-1)),s("div",R,$(parseInt(o(a).file_size)>0?`支持图片格式：JPG/JPEG/PNG，低于${o(a).file_size}MB`:"支持图片格式：JPG/JPEG/PNG"),1)]))])]),_:1},8,["file-list","accept"])])}}}),ge=L(S,[["__scopeId","data-v-3c65f031"]]);export{ge as default};
