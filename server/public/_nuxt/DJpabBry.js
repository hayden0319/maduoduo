import{E as me}from"./WwjzPWiF.js";import{b as ee,i as fe,bD as Z,bE as ve,bF as _e,bG as X,j as ye,f as ne,E as H,v as he,m as ge,bH as we,H as ke,h as xe,bz as be,bI as Ce,e as $e}from"./Cr5Ubhxi.js";/* empty css        */import{l as S,az as Ee,M as e,N as l,O as s,Z as d,$ as F,ag as x,a3 as k,u as o,a0 as g,a1 as u,V as T,a4 as O,a6 as v,_ as B,ao as U,b as $,j as K,r as Ie,m as G,a7 as Ae,y as le,n as Be,a2 as Pe,w as Se}from"./BgewwvAi.js";import{_ as Y}from"./DlAUqK2U.js";import{_ as ae}from"./BzAs22Q4.js";import{E as te}from"./DLQfD3Uz.js";import{_ as Ve}from"./CwafHyED.js";import{E as De}from"./Df5BH_cu.js";import{_ as J}from"./CyY3lptK.js";/* empty css        */import{u as Re}from"./BtWRx-QN.js";import{u as re}from"./C91Hnkfk.js";import{E as oe}from"./B-UECF4z.js";import{E as se}from"./Cp1klw-J.js";/* empty css        *//* empty css        */import{c as Ue}from"./DwFObZc_.js";import{g as je}from"./DQUFgXGm.js";import{d as qe}from"./Cljthsfj.js";import{Q as Le}from"./BK9TZFpY.js";import{i as Te}from"./DjUho_vG.js";import{E as ze}from"./BtaPwG8Q.js";import"./DJju3RTy.js";const Ne=["src"],Me={key:0,class:"h-[20px] mb-[10px] text-tx-secondary text-xs"},We={class:"overflow-x-auto"},Fe=S({__name:"item",props:{type:{default:"left"},avatar:{default:""},bg:{default:""},color:{default:"black"},time:{default:""},modelName:{default:""}},setup(m){Ee(a=>({75584782:a.color}));const f=ee();return(a,c)=>{const _=me;return e(),l("div",{class:"chat-msg-item",style:O(a.bg?`--item-bg: ${a.bg}`:"")},[s("div",{class:F(`chat-msg-item__${a.type}`)},[a.avatar?(e(),l("img",{key:0,class:"chat-msg-item__avatar",src:a.avatar},null,8,Ne)):d("",!0),s("div",{class:F([`chat-msg-item__${a.type}-wrap`,{"has-time":a.time}])},[a.time?(e(),l("div",Me,[x(k(a.time)+" ",1),a.modelName&&o(f).getChatConfig.is_show_model?(e(),g(_,{key:0,class:"ml-2",type:"success",style:{"--el-tag-border-color":"transparent"}},{default:u(()=>[x(k(a.modelName),1)]),_:1})):d("",!0)])):d("",!0),s("div",We,[s("div",{class:F(`chat-msg-item__${a.type}-content`)},[T(a.$slots,"default",{},void 0,!0)],2)]),s("div",null,[T(a.$slots,"actions",{},void 0,!0)])],2)],2),T(a.$slots,"outer_actions",{},void 0,!0)],4)}}}),Io=Y(Fe,[["__scopeId","data-v-525ad2b6"]]),Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAACJElEQVRYR+2YMWsUURSFz3m7s+nskjUIQSutbMRi7WzUVjSadMHCbVLkByjmLygaCVYWRqMEUhkFS9Gg0cJfYCPZjYUQFbPs+I7c2R1Q2ZjZfRNYYS4MAzPv3vnmvDvL3kMA2Hl5/CjLI9ckf4ZwY3Zt15C+gfwIao3So0rt3XsJtPUk9M/cAW6y9ap2DIyfAjgCwANwGeoYiEFtk/5e5CvXeer1D2neATcGgiTZM4+t9RNLEKcBtAFEGeBsiRWzl7EoSXo+8rV9gWc/fDc1B1VSEoEnDpj0KTB33tS26DGaEezvZQZpRxmODyoT5+vwBwS3zeTcT4yjTdZNJEiPSykk1bjZX6HeD/WQJ1zUApgq2w+etcsniBuAVlH9vELOx6Yo1VywgkmTB4X1kEGGhyAtg/Ecq3NNqnknDwVTrNBaactEts88OHs5b8Bw/Tof4M+kr4WrwwhoL9n5uRPWhxWwsxPEl+EGNMacP5I8evCPGgVgqKSFgoWCoQqE5hc9WCgYqkBoftGDeSiYz1/+UJLe+foftvh2A2B1fwQIrapkaFoDcK4PVyH0qVnyU4fjGdW4NQ2WlgDE5hLkMoJmQdh9zW9Dk59K5lhtLjyE01TX/jDILP5MGEbvbFPOJroIXvc5PjvTBbx7GM4vAjjd9WdSc2g/IPaqaTv5Aq58haP1TSb2Au20GGErvgTxIqiTAA7tVSnn+2Z9vAXdCsa4bD6Nsf0C/gYA5PMzcW0AAAAASUVORK5CYII=",Ye={class:"h-[65vh]"},Qe={class:"font-medium text-tx-primary"},Ze={class:"text-muted text-sm whitespace-pre-wrap"},Oe=S({__name:"context-popup",props:{context:{default:()=>[]}},emits:["close"],setup(m,{emit:f}){const a=f;return(c,_)=>{const h=oe,w=se;return e(),g(w,{title:`对话上下文(${c.context.length}条)`,"model-value":!0,width:"700px",onClose:_[0]||(_[0]=y=>a("close"))},{default:u(()=>[s("div",Ye,[v(h,null,{default:u(()=>[(e(!0),l(B,null,U(c.context,(y,b)=>(e(),l("div",{key:b,class:"py-[6px] px-[10px] border border-solid border-br-light rounded mb-[10px]"},[s("div",Qe,k(y.role),1),s("div",Ze,k(y.content),1)]))),128))]),_:1})])]),_:1},8,["title"])}}}),He={class:"h-[65vh]"},Ke={class:"text-sm text-tx-secondary text-end pb-2"},Je={key:0,class:"mr-2"},Xe={key:1,class:"mr-2"},et={key:2},tt={key:0,class:"text-muted text-sm whitespace-pre-wrap"},ot={key:1,class:"text-muted text-sm whitespace-pre-wrap"},st=S({__name:"quote-popup",props:{quotes:{default:()=>[]}},emits:["close"],setup(m,{emit:f}){const a=f;return(c,_)=>{const h=oe,w=se;return e(),g(w,{title:`知识库引用(${c.quotes.length}条)`,"model-value":!0,width:"700px",onClose:_[0]||(_[0]=y=>a("close"))},{default:u(()=>[s("div",He,[v(h,null,{default:u(()=>[(e(!0),l(B,null,U(c.quotes,(y,b)=>(e(),l("div",{key:b,class:"py-[6px] px-[10px] border border-solid border-br-light rounded mb-[10px]"},[s("p",Ke,[y.rerank_score?(e(),l("span",Je,"重排分数："+k(y.rerank_score),1)):d("",!0),y.full_score?(e(),l("span",Xe,"全文检索："+k(y.full_score),1)):d("",!0),y.emb_score?(e(),l("span",et,"语义检索："+k(y.emb_score),1)):d("",!0)]),y.question?(e(),l("div",tt,k(y.question),1)):d("",!0),y.answer?(e(),l("div",ot,k(y.answer),1)):d("",!0)]))),128))]),_:1})])]),_:1},8,["title"])}}}),nt=fe({id:"chatStore",state:()=>{const m=Z(ve,"");return m.value||(m.value=_e()),{uuid:m.value||"",token:"",channelId:""}},getters:{isAuth:m=>!!m.token},actions:{init(m){this.channelId=m;const f=Z(X,{});this.token=f.value[this.channelId]||""},clearAuth(){const m=Z(X,{});delete m.value[this.channelId],this.token=""},async auth(m=""){const f=await Ue({password:m,channel:this.channelId,identity:this.uuid});this.token=f.token;const a=Z(X,{});a.value=Object.assign({[this.channelId]:f.token},a.value)}}}),lt={key:0,class:"flex mb-[16px] bg-body rounded-[5px] p-[10px] max-w-[300px] items-center"},at={class:"line-clamp-2 flex-1 min-w-0 ml-[6px] text-tx-primary",style:{"word-break":"break-word"}},rt=S({__name:"record-image",props:{url:{},name:{}},setup(m){return(f,a)=>{const c=te;return f.url?(e(),l("div",lt,[v(c,{class:"flex-none w-[40px] h-[40px]",src:f.url,"preview-src-list":[f.url],"hide-on-click-modal":!0},null,8,["src","preview-src-list"]),s("div",at,k(f.name),1)])):d("",!0)}}}),it={class:"text-info line-clamp-2 flex-1 min-w-0 ml-[6px]",style:{"word-break":"break-word"}},ut=S({__name:"record-file",props:{url:{},name:{}},setup(m){const f=m,a=async()=>{window.open(f.url,"_blank")};return(c,_)=>c.url?(e(),l("div",{key:0,class:"flex mb-[16px] bg-white rounded-[5px] p-[10px] max-w-[300px] items-center cursor-pointer",onClick:a},[s("div",it,k(c.name),1)])):d("",!0)}}),dt={class:"h-[70vh]"},pt={class:"poster-bg flex flex-col"},ct=["src"],mt={class:"px-[20px] pt-[135px]"},ft={class:"bg-white rounded-lg p-[15px] text-tx-primary"},vt={class:"flex justify-end text-[16px] items-baseline"},_t={class:"bg-[#066cff] px-[10px] py-[6px] text-white",style:{"border-radius":"8px 0 8px 8px"}},yt={class:"line-clamp-2"},ht={class:"text-[14px]"},gt={class:"px-[20px] pt-[20px]"},wt={class:"flex items-center justify-between"},kt={class:"flex items-center"},xt=["src"],bt={class:"ml-[10px] text-[16px]"},Ct={class:"line-clamp-2"},$t={key:0},Et={class:"w-[120px] flex flex-col justify-center items-end"},It={class:"flex justify-end mt-[10px]"},At=S({__name:"dialog-poster",setup(m,{expose:f}){const a=ee(),c=$(!1),_=$(!1),h=$({}),w=$(!1),y=ye(),b=K(),P=Ie({title:"",content:""}),z=async()=>{var C;w.value=!0;try{const{data:t}=await ge({id:12});h.value=((C=JSON.parse(t)[0])==null?void 0:C.content)||{}}finally{w.value=!1}},N=G(()=>`${window.origin}/mobile?user_sn=${y.userInfo.sn}`),{copy:j}=re(),M=G(()=>`${window.origin}/?user_sn=${y.userInfo.sn}`),E=async()=>{try{_.value=!0,await qe(b.value)}catch{ne.msgError("下载失败，请重试")}finally{_.value=!1}};return f({open:C=>{z(),c.value=!0,P.title=C.title,P.content=Te(C.content)?[C.content]:C.content}}),(C,t)=>{const r=ae,W=oe,L=J,V=H,D=se,Q=he;return e(),g(D,{modelValue:o(c),"onUpdate:modelValue":t[1]||(t[1]=n=>le(c)?c.value=n:null),title:"生成海报","show-close":"",width:"430px"},{default:u(()=>[s("div",dt,[Ae((e(),g(W,null,{default:u(()=>[o(w)?d("",!0):(e(),l("div",{key:0,ref_key:"posterRef",ref:b,class:"poster overflow-hidden pb-[10px] rounded-lg"},[s("div",pt,[s("img",{class:"w-full",src:o(h).default==2?o(a).getImageUrl(o(h).posterUrl):o(h).poster==1?o(a).getImageUrl(o(h).defaultUrl1):o(a).getImageUrl(o(h).defaultUrl2),style:O({background:o(h).bgColor}),alt:""},null,12,ct),s("div",{class:"flex-1 min-h-0",style:O({background:o(h).bgColor})},null,4)]),s("div",{class:"w-full h-full poster-contain1 bg-[#BBBBBB]",style:O({color:o(h).textColor})},[s("div",mt,[s("div",ft,[s("div",vt,[s("span",_t,[s("span",yt,k(o(P).title),1)])]),s("span",ht,[(e(!0),l(B,null,U(o(P).content,(n,i)=>(e(),l("div",{key:i,class:F(["mb-[15px] mt-4 p-[10px] bg-[#f0f5fe] text-tx-primary",{"pt-[15px]":i>0}]),style:{"border-radius":"0 8px 8px 8px"}},[v(r,{content:n,"line-numbers":!0,"line-clamp":o(h).showContentType==1?o(h).contentNum:0,theme:"light"},null,8,["content","line-clamp"])],2))),128))])])]),s("div",gt,[s("div",wt,[s("div",kt,[s("img",{src:o(y).userInfo.avatar,alt:"",class:"w-[60px] h-[60px] rounded-full"},null,8,xt),s("div",bt,[s("div",Ct,k(o(y).userInfo.nickname),1),o(h).showData==1?(e(),l("div",$t,k(o(h).data),1)):d("",!0)])]),s("div",Et,[v(Le,{value:o(N),size:85,margin:1},null,8,["value"]),t[2]||(t[2]=s("div",{class:"text-xs mt-2"}," 长按识别二维码 ",-1))])])])],4)],512))]),_:1})),[[Q,o(w)]])]),s("div",It,[v(V,{round:"",onClick:E,loading:o(_)},{icon:u(()=>[v(L,{name:"el-icon-Download"})]),default:u(()=>[t[3]||(t[3]=x(" 下载 "))]),_:1},8,["loading"]),v(V,{round:"",onClick:t[0]||(t[0]=n=>o(j)(o(M)))},{icon:u(()=>[v(L,{name:"el-icon-DocumentCopy"})]),default:u(()=>[t[4]||(t[4]=x(" 复制链接 "))]),_:1})])]),_:1},8,["modelValue"])}}}),Bt=Y(At,[["__scopeId","data-v-4178ddb0"]]),Pt={class:"chat-content"},St={class:"chat-text"},Vt={key:0},Dt={key:1,class:"flex justify-center items-center w-full h-10"},Rt={key:4,class:"flex flex-wrap mx-[-5px]"},Ut={key:5,class:"flex flex-wrap mx-[-5px]"},jt={class:"w-[120px] h-[120px] mx-[5px] mt-[10px]"},qt={key:6,class:"mt-[15px]"},Lt={class:"line-clamp-1 mr-[10px] text-tx-primary"},Tt={key:0,class:"mt-[10px]"},zt=S({__name:"content",props:{type:{default:"text"},recordList:{default:()=>[]},content:{default:""},context:{default:()=>[]},quotes:{default:()=>[]},images:{default:()=>[]},videos:{default:()=>[]},files:{default:()=>[]},filesPlugin:{default:()=>[]},typing:{type:Boolean,default:!1},lineNumbers:{type:Boolean,default:!0},showRewrite:{type:Boolean,default:!1},showCopy:{type:Boolean,default:!1},showContext:{type:Boolean,default:!1},showQuote:{type:Boolean,default:!1},showVoice:{type:Boolean,default:!1},showPoster:{type:Boolean,default:!1},recordId:{default:0},index:{default:0},recordType:{default:1},channel:{default:""},userId:{default:""}},emits:["click-custom-link","rewrite"],setup(m,{emit:f}){const a=f;nt();const c=m,_=$(!1),h=$(!1),w=$(!1),y=async()=>(await je({records_id:c.recordId,content:c.index,type:c.recordType},{Authorization:c.channel,Identity:c.userId})).file,b=G(()=>c.images.map(({url:t})=>t)),{play:P,audioPlaying:z,pause:N,audioLoading:j}=Re(),{copy:M}=re(),E=t=>{a("click-custom-link",t)},q=K(),C=async()=>{const t=c.recordList.filter(r=>r.id==c.recordId);if(t.length!=2){ne.msgError("上下文数据不对～");return}w.value=!0,await Be(),q.value.open({title:t[0].content,content:t[1].content})};return(t,r)=>{var R;const W=ke,L=ae,V=te,D=Ve,Q=De,n=J,i=H;return e(),l("div",Pt,[s("div",St,[t.filesPlugin.length?(e(),l("div",Vt,[(e(!0),l(B,null,U(t.filesPlugin,(p,A)=>(e(),l(B,{key:A},[p.type=="image"||p.type=="10"?(e(),g(rt,{key:0,url:p.url,name:p.name},null,8,["url","name"])):p.type=="file"||p.type=="30"?(e(),g(ut,{key:1,url:p.url,name:p.name},null,8,["url","name"])):d("",!0)],64))),128))])):d("",!0),t.content.length?d("",!0):(e(),l("div",Dt,[v(W,{class:"animate-spin",size:20},{default:u(()=>[v(o(we))]),_:1})])),t.type==="html"?(e(),g(L,{key:2,content:t.content,"line-numbers":t.lineNumbers,typing:t.typing,style:{color:"inherit"},onClickCustomLink:r[0]||(r[0]=p=>E(p))},null,8,["content","line-numbers","typing"])):t.type==="text"?(e(),l("div",{key:3,class:F(["break-all text-lg",{"wait-typing":t.typing}]),style:{"word-wrap":"break-word"}},k(t.content),3)):d("",!0),o(b).length?(e(),l("div",Rt,[(e(!0),l(B,null,U(o(b),(p,A)=>(e(),g(V,{key:A,"preview-src-list":o(b),"preview-teleported":!0,infinite:!1,"initial-index":A,"hide-on-click-modal":!0,class:"w-[120px] h-[120px] mx-[5px] mt-[10px]",src:p,fit:"cover"},null,8,["preview-src-list","initial-index","src"]))),128))])):d("",!0),t.videos.length?(e(),l("div",Ut,[s("div",jt,[(e(!0),l(B,null,U(t.videos,(p,A)=>(e(),g(D,{"file-size":"120px",key:A,uri:p.url,type:"video"},null,8,["uri"]))),128))])])):d("",!0),(R=t.files)!=null&&R.length?(e(),l("div",qt,[(e(!0),l(B,null,U(t.files,(p,A)=>(e(),l("div",{key:A,class:"flex mb-[10px] items-center"},[r[10]||(r[10]=s("img",{class:"w-[18px] h-[14px] mr-2",src:Ge},null,-1)),s("div",Lt,k(p.name),1),v(Q,{href:p.url,target:"_blank",type:"primary"},{default:u(()=>r[9]||(r[9]=[x(" 下载 ")])),_:2},1032,["href"])]))),128))])):d("",!0)]),!t.typing&&(t.showCopy||t.showVoice||t.showQuote||t.showContext)?(e(),l("div",Tt,[t.showRewrite?(e(),g(i,{key:0,link:"",onClick:r[1]||(r[1]=p=>a("rewrite"))},{icon:u(()=>[v(n,{name:"el-icon-RefreshLeft"})]),default:u(()=>[r[11]||(r[11]=x(" 重新回答 "))]),_:1})):d("",!0),t.showCopy?(e(),g(i,{key:1,link:"",onClick:r[2]||(r[2]=p=>o(M)(t.content))},{icon:u(()=>[v(n,{name:"el-icon-CopyDocument"})]),default:u(()=>[r[12]||(r[12]=x(" 复制 "))]),_:1})):d("",!0),t.showVoice?(e(),l(B,{key:2},[o(z)?(e(),g(i,{key:0,link:"",onClick:o(N)},{icon:u(()=>[v(n,{name:"local-icon-audio_voice"})]),default:u(()=>[r[13]||(r[13]=x(" 停止 "))]),_:1},8,["onClick"])):(e(),g(i,{key:1,link:"",loading:o(j),onClick:r[3]||(r[3]=p=>o(P)(y))},{icon:u(()=>[v(n,{name:"local-icon-audio_voice"})]),default:u(()=>[r[14]||(r[14]=x(" 朗读 "))]),_:1},8,["loading"]))],64)):d("",!0),t.showPoster?(e(),g(i,{key:3,link:"",onClick:C},{icon:u(()=>[v(n,{name:"el-icon-Picture"})]),default:u(()=>[r[15]||(r[15]=x(" 生成海报 "))]),_:1})):d("",!0),t.quotes.length&&t.showQuote?(e(),g(i,{key:4,link:"",type:"primary",onClick:r[4]||(r[4]=p=>h.value=!0)},{default:u(()=>[x(k(t.quotes.length)+"条引用 ",1)]),_:1})):d("",!0),t.context.length&&t.showContext?(e(),g(i,{key:5,link:"",type:"primary",onClick:r[5]||(r[5]=p=>_.value=!0)},{default:u(()=>[x(k(t.context.length)+"条上下文 ",1)]),_:1})):d("",!0)])):d("",!0),o(_)?(e(),g(Oe,{key:1,context:t.context,onClose:r[6]||(r[6]=p=>_.value=!1)},null,8,["context"])):d("",!0),o(h)?(e(),g(st,{key:2,quotes:t.quotes,onClose:r[7]||(r[7]=p=>h.value=!1)},null,8,["quotes"])):d("",!0),o(w)?(e(),g(Bt,{key:3,ref_key:"posterRef",ref:q,onClose:r[8]||(r[8]=p=>w.value=!1)},null,512)):d("",!0)])}}}),Ao=Y(zt,[["__scopeId","data-v-ab840262"]]),Nt=S({props:{showClose:{type:Boolean,default:!0}},emits:["close"],setup(m,{emit:f}){return{handleClose:()=>{f("close")}}}}),Mt={class:"del-wrap"};function Wt(m,f,a,c,_,h){const w=J;return e(),l("div",Mt,[T(m.$slots,"default",{},void 0,!0),m.showClose?(e(),l("div",{key:0,class:"icon-close",onClick:f[0]||(f[0]=Pe((...y)=>m.handleClose&&m.handleClose(...y),["stop"]))},[v(w,{size:12,name:"el-icon-CloseBold"})])):d("",!0)])}const Ft=Y(Nt,[["render",Wt],["__scopeId","data-v-cad697f2"]]),Gt={class:"chat-action"},Yt={key:0,class:"flex items-center pt-[10px] justify-center"},Qt={class:"p-[10px]"},Zt={class:"flex items-center pb-3 gap-3"},Ot={class:"flex h-12 bg-page px-2 rounded-[12px] items-center max-w-[400px]"},Ht={class:"line-clamp-2 ml-[10px] flex-1 min-w-0",style:{"word-break":"break-word"}},Kt={class:"mb-[10px] flex flex-wrap items-center"},Jt={key:0,class:"mr-[10px]"},Xt={class:"py-[3px] mr-[-7px] input-suffix"},eo=S({__name:"index",props:{placeholder:{default:"请输入问题"},loading:{type:Boolean,default:!1},showManual:{type:Boolean,default:!1},showPause:{type:Boolean,default:!0},showClear:{type:Boolean,default:!0},showContinue:{type:Boolean,default:!1},showFileUpload:{type:Boolean,default:!1},menus:{default:()=>[]},btnColor:{default:"#fff"},filePlugin:{default:()=>({})}},emits:["clear","pause","continue","blur","focus","enter","update:filePlugin"],setup(m,{expose:f,emit:a}){const c=m,_=a,h=ee(),w=$(""),y=K(),b=K(),P=$(!1),z=()=>{P.value=!1,_("blur")},N=()=>{P.value=!0,_("focus")},j=$(!1),M=G(()=>`${c.placeholder} ${h.isMobile?"":"（Shift + Enter）= 换行"}`),E=xe(c,"filePlugin",_),q=$(!1),C=n=>{E.value.url=n.uri,E.value.name=n.name},t=async n=>{q.value=!0;try{return await Ce("image",{file:n.file,name:"file",header:{}})}finally{q.value=!1}},r=n=>{if(!(n.shiftKey&&n.keyCode===13)&&!j.value&&n.keyCode===13)return _("enter",w.value),n.preventDefault()},W=G(()=>h.isMobile?{maxRows:4,minRows:1}:{maxRows:6,minRows:1}),L=$(!1),{height:V}=be(y);let D=0;return Se(()=>{D===0&&(D=V.value),V.value>D&&(L.value=!0),w.value===""&&V.value>D&&(L.value=!1)}),f({setInputValue:(n="")=>{w.value=n},focus:()=>{var n;return(n=b.value)==null?void 0:n.focus()},blur:()=>{var n;return(n=b.value)==null?void 0:n.blur()}}),(n,i)=>{const R=J,p=H,A=te,ie=Ft,ue=H,de=ze,pe=$e;return e(),l("div",Gt,[n.showPause||n.showContinue?(e(),l("div",Yt,[n.loading?(e(),g(p,{key:0,plain:"",onClick:i[0]||(i[0]=I=>_("pause"))},{icon:u(()=>[v(R,{name:"el-icon-VideoPause"})]),default:u(()=>[i[8]||(i[8]=x(" 停止 "))]),_:1})):n.showContinue?(e(),g(p,{key:1,plain:"",onClick:i[1]||(i[1]=I=>_("continue"))},{icon:u(()=>[v(R,{name:"el-icon-VideoPlay"})]),default:u(()=>[i[9]||(i[9]=x(" 继续 "))]),_:1})):d("",!0)])):d("",!0),s("div",Qt,[s("div",Zt,[o(E).url?(e(),g(ie,{key:0,onClose:i[2]||(i[2]=I=>o(E).url="")},{default:u(()=>[s("div",Ot,[v(A,{src:o(E).url,"preview-src-list":[o(E).url],"hide-on-click-modal":!0,class:"w-8 h-8 flex-none"},null,8,["src","preview-src-list"]),s("span",Ht,k(o(E).name),1)])]),_:1})):d("",!0),T(n.$slots,"file-list",{},void 0,!0)]),s("div",Kt,[T(n.$slots,"btn",{},void 0,!0),n.showFileUpload?(e(),l("div",Jt,[v(de,{ref:"uploadRef","show-file-list":!1,accept:".jpg,.png,.jpeg",multiple:!1,"on-success":C,"http-request":t},{trigger:u(()=>[v(ue,{plain:"",class:"!rounded-[8px]",loading:o(q)},{icon:u(()=>[v(R,{name:"el-icon-Upload"})]),default:u(()=>[i[10]||(i[10]=x(" 上传图片 "))]),_:1},8,["loading"])]),_:1},512)])):d("",!0),n.showClear?(e(),g(p,{key:1,disabled:n.loading,class:"!rounded-[8px]",plain:"",onClick:i[3]||(i[3]=I=>_("clear"))},{icon:u(()=>[v(R,{name:"el-icon-Delete"})]),default:u(()=>[i[11]||(i[11]=x(" 清空 "))]),_:1},8,["disabled"])):d("",!0),(e(!0),l(B,null,U(n.menus,(I,ce)=>(e(),g(p,{color:n.btnColor,style:{"--el-button-disabled-text-color":`var(
                            --el-button-text-color
                        )`},disabled:n.loading,onClick:to=>_("enter",I.keyword),key:ce},{default:u(()=>[x(k(I.keyword),1)]),_:2},1032,["color","disabled","onClick"]))),128))]),s("div",{ref_key:"textContainerRef",ref:y,class:"chat-input relative text-container flex items-center"},[v(pe,{ref_key:"textareaRef",ref:b,modelValue:o(w),"onUpdate:modelValue":i[4]||(i[4]=I=>le(w)?w.value=I:null),autosize:o(W),type:"textarea",placeholder:o(M),resize:"none",onCompositionstart:i[5]||(i[5]=I=>j.value=!0),onCompositionend:i[6]||(i[6]=I=>j.value=!1),onKeydown:r,onBlur:z,onFocus:N},null,8,["modelValue","autosize","placeholder"]),s("div",Xt,[v(p,{disabled:!o(w)||n.loading,type:"primary",style:{height:"40px"},onClick:i[7]||(i[7]=I=>_("enter",o(w)))},{default:u(()=>[v(R,{name:"el-icon-Promotion",size:20}),i[12]||(i[12]=x(" 发送 "))]),_:1},8,["disabled"])])],512)])])}}}),Bo=Y(eo,[["__scopeId","data-v-db73beda"]]);export{Io as _,Ao as a,Ft as b,Bo as c};
