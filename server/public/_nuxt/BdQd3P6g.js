import{E as w,a as I}from"./Dua6tcUZ.js";import{j as k,dn as B,dp as F,dq as g,e as M}from"./Cr5Ubhxi.js";import{E as O,a as P}from"./DSuzuHr1.js";import{_ as j}from"./-zRcnmRK.js";import{P as q}from"./CSNrKBDo.js";/* empty css        *//* empty css        *//* empty css        *//* empty css        */import"./DP2rzg_V.js";/* empty css        */import{l as N,j as m,r as U,M as D,a0 as $,a1 as l,u as n,O as u,a6 as o}from"./BgewwvAi.js";const h={class:"flex justify-center leading-5 w-[90px] pl-2.5 border-l border-br"},oe=N({__name:"bindmobilePop",emits:["close"],setup(z,{expose:f,emit:G}){const a=m(),_=k(),t=U({mobile:"",code:""}),i=m(),p=m(),b=()=>{a.value.open()},E={mobile:[{required:!0,message:"请输入手机号"}],code:[{required:!0,message:"请输入验证码"}]},v=async()=>{var s,e;await((s=p.value)==null?void 0:s.validateField(["mobile"])),await F({scene:g.BIND_MOBILE,mobile:t.mobile}),(e=i.value)==null||e.start()},x=async()=>{await B({type:"bind",...t}),a.value.close()};return f({open:b}),(s,e)=>{const y=w,V=I,d=M,c=O,C=j,R=P,S=q;return D(),$(S,{ref_key:"popRef",ref:a,title:n(_).userInfo.mobile?"点击更改":"立即绑定",async:"","confirm-button-text":"确认更改",onConfirm:x,onClose:e[2]||(e[2]=r=>s.$emit("close"))},{default:l(()=>[u("div",null,[o(R,{ref_key:"formRef",ref:p,size:"large",model:n(t),rules:E},{default:l(()=>[o(c,{prop:"mobile"},{default:l(()=>[o(d,{modelValue:n(t).mobile,"onUpdate:modelValue":e[0]||(e[0]=r=>n(t).mobile=r),placeholder:"请输入手机号"},{prepend:l(()=>[o(V,{"model-value":"+86",style:{width:"80px"}},{default:l(()=>[o(y,{label:"+86",value:"+86"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(c,{prop:"code"},{default:l(()=>[o(d,{modelValue:n(t).code,"onUpdate:modelValue":e[1]||(e[1]=r=>n(t).code=r),placeholder:"请输入验证码"},{suffix:l(()=>[u("div",h,[o(C,{ref_key:"verificationCodeRef",ref:i,onClickGet:v},null,512)])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["title"])}}});export{oe as _};
